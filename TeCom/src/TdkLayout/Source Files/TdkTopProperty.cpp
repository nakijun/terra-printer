#include<TdkLayoutTypes.h>
#include <TdkTopProperty.h>
#include <math.h>

///////////////////////////////////////////////////////////////////////////////
//Constructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkTopProperty::TdkTopProperty()
{
	_propertyName="Top_Property";
	_value=NULL;
	_bottomValue=NULL;
}

///////////////////////////////////////////////////////////////////////////////
//Destructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkTopProperty::~TdkTopProperty()
{
	_value=NULL;
}


///////////////////////////////////////////////////////////////////////////////
//Sets top property value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkTopProperty::setValue(const double &newVal)
{
	double	h=0;
	h=fabs(*_value - *_bottomValue);
	*_value=newVal;
	*_bottomValue=*_value + h;
}

///////////////////////////////////////////////////////////////////////////////
//Returns the top property value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

double TdkTopProperty::getValue()
{
	return *_value;
}

///////////////////////////////////////////////////////////////////////////////
//Return the Top value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkTopProperty::getValue(double &value)
{
	value=(_value!=0 ? *_value : 0);
}


///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////
TdkTopProperty& TdkTopProperty::operator=(const TdkTopProperty &other)
{
	*_value=*other._value;
	return *this;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////
TdkTopProperty& TdkTopProperty::operator=(const TdkAbstractProperty &other)
{
	*_value=*((TdkTopProperty&)other)._value;
	return *this;
}

