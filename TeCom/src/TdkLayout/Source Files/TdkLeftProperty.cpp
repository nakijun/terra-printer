#include<TdkLayoutTypes.h>
#include <TdkLeftProperty.h>
#include <math.h>

///////////////////////////////////////////////////////////////////////////////
//Empty Constructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkLeftProperty::TdkLeftProperty()
{
	_propertyName="Left_Property";
	_value=NULL;
	_rightValue=NULL;
}

///////////////////////////////////////////////////////////////////////////////
//Destructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkLeftProperty::~TdkLeftProperty()
{
	_value=NULL;
	_rightValue=NULL;
}

///////////////////////////////////////////////////////////////////////////////
//Set Left Value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkLeftProperty::setValue(const double &newVal)
{
	double	dbDiff;

	dbDiff=fabs(*_value - *_rightValue);
	if(_value)	*_value=newVal;
	if(_rightValue) *_rightValue=*_value + dbDiff;
}

///////////////////////////////////////////////////////////////////////////////
//Return the Left value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

double TdkLeftProperty::getValue()
{
	return *_value;
}

///////////////////////////////////////////////////////////////////////////////
//Return the Left value
//Author : Rui Mauricio Gregório 
//Date : 08/2010
///////////////////////////////////////////////////////////////////////////////
void TdkLeftProperty::getValue(double &value)
{
	if(_value) value=*_value;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkLeftProperty& TdkLeftProperty::operator=(const TdkLeftProperty &other)
{
	double	dbDiff;
	dbDiff=fabs(*_value - *_rightValue);

	*_value=*other._value;
	if(_rightValue) *_rightValue=*_value + dbDiff;
	return *this;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkLeftProperty& TdkLeftProperty::operator=(const TdkAbstractProperty &other)
{
	*_value=*((TdkLeftProperty&)other)._value;
	return *this;
}