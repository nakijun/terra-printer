#include<TdkLayoutTypes.h>
#include <TdkHeightProperty.h>
#include <math.h>

///////////////////////////////////////////////////////////////////////////////
//Empty Constructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkHeightProperty::TdkHeightProperty()
{
	_propertyName="Height_Property";
	_y1=NULL;
	_y2=NULL;
	_redraw=NULL;
}

///////////////////////////////////////////////////////////////////////////////
//Destructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkHeightProperty::~TdkHeightProperty()
{
	_y1=NULL;
	_y2=NULL;
	_redraw=NULL;
}

///////////////////////////////////////////////////////////////////////////////
//Sets Height value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkHeightProperty::setValue(const double &newVal)
{
	*_redraw=true;
	if(_y2 && _y1) *_y2=*_y1 + newVal;	
}

///////////////////////////////////////////////////////////////////////////////
//Returns the height value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

double TdkHeightProperty::getValue()
{
	return fabs(*_y1-*_y2);
}

///////////////////////////////////////////////////////////////////////////////
//Return the width value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkHeightProperty::getValue(double &value)
{
	value=(_y1!=0 && _y2!=0 ? fabs(*_y2 - *_y1) : 0);
}

////////////////////////////////////////////////////////////////////
///////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkHeightProperty& TdkHeightProperty::operator=(const TdkHeightProperty &other)
{
	*_y1=*other._y1;
	*_y2=*other._y2;
	*_redraw=true;
	return *this;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkHeightProperty& TdkHeightProperty::operator=(const TdkAbstractProperty &other)
{
	*_y1=*((TdkHeightProperty&)other)._y1;
	*_y2=*((TdkHeightProperty&)other)._y2;
	*_redraw=true;
	return *this;
}