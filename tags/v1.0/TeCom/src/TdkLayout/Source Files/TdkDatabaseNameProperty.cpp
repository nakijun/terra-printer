#include<TdkLayoutTypes.h>
#include <TdkDatabaseNameProperty.h>
#include <TdkLayoutDatabaseObject.h>

///////////////////////////////////////////////////////////////////////////////
//Constructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkDatabaseNameProperty::TdkDatabaseNameProperty(TdkLayoutDatabaseObject *obj,const std::string &newVal)
{
	_propertyName="DatabaseName_Property";
	_value=newVal;
	_type=PText;
	_object=obj;
}

///////////////////////////////////////////////////////////////////////////////
//Destructor
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkDatabaseNameProperty::~TdkDatabaseNameProperty()
{

}

///////////////////////////////////////////////////////////////////////////////
//Sets database name Value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

void TdkDatabaseNameProperty::setValue(const std::string &newVal)
{
	_value=newVal;
	if(_object) _object->closeConnection();
}

///////////////////////////////////////////////////////////////////////////////
//Returns the database name value
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

std::string TdkDatabaseNameProperty::getValue()
{
	return _value;
}

///////////////////////////////////////////////////////////////////////////////
//Returns the database name value by reference
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////
void TdkDatabaseNameProperty::getValue(std::string &value)
{
	value=_value;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkDatabaseNameProperty& TdkDatabaseNameProperty::operator=(const TdkDatabaseNameProperty &other)
{
	_value=other._value;
	return *this;
}

///////////////////////////////////////////////////////////////////////////////
//Equal Operator
//Author : Rui Mauricio Gregório 
//Date : 07/2009
///////////////////////////////////////////////////////////////////////////////

TdkDatabaseNameProperty& TdkDatabaseNameProperty::operator=(const TdkAbstractProperty &other)
{
	_value=((TdkDatabaseNameProperty&)other)._value;
	return *this;
}